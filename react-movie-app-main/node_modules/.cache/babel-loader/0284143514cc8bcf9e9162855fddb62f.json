{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\PROG\\\\exercicios\\\\PROJETO 2\\\\Appmovie\\\\react-movie-app-main\\\\src\\\\pages\\\\EditComment.js\",\n    _s = $RefreshSig$();\n\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./Style.css\";\nexport function EditComment() {\n  _s();\n\n  const params = useParams();\n  var infoFilme = params.filme;\n  const [form, setForm] = useState({\n    filme: {\n      infoFilme\n    },\n    comentario: \"\",\n    userName: \"\"\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function fetchMovieDetails() {\n      try {\n        const response = await axios.get(`https://ironrest.herokuapp.com/apiDICKvigarista/${params.id}`);\n        setForm({ ...response.data\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    fetchMovieDetails();\n  }, []);\n\n  function handleChange(event) {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    for (let key in form) {\n      if (!form[key]) {\n        window.alert(`Gentileza preencher o campo ${key} corretamente`);\n        return;\n      }\n    }\n\n    delete form._id;\n    axios.put(`https://ironrest.herokuapp.com/apiDICKvigarista/${params.id}`, form).then(result => console.log(result)).catch(error => {\n      console.error(error);\n    });\n    navigate(`/${infoFilme}`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comentCreation\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comentBox\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"userName\",\n          children: \"Nome de Usu\\xE1rio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"UserName\",\n          name: \"userName\",\n          value: form.userName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"comment\",\n          children: \"Novo coment\\xE1rio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"comment\",\n          name: \"comentario\",\n          value: form.comentario,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Cadastrar coment\\xE1rio editado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditComment, \"ZI8qAEbQO8MqnEVPtBNybrB0lfY=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditComment\");","map":{"version":3,"sources":["F:/PROG/exercicios/PROJETO 2/Appmovie/react-movie-app-main/src/pages/EditComment.js"],"names":["useParams","useNavigate","useEffect","useState","axios","EditComment","params","infoFilme","filme","form","setForm","comentario","userName","navigate","fetchMovieDetails","response","get","id","data","error","console","handleChange","event","target","name","value","handleSubmit","preventDefault","key","window","alert","_id","put","then","result","log","catch"],"mappings":"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","sourcesContent":["import { useParams , useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Style.css\"\r\n\r\nexport function EditComment(){\r\n    const params = useParams();\r\n    var infoFilme = params.filme\r\n    \r\n\r\n    const [form, setForm] = useState({\r\n        filme:{infoFilme},\r\n\t\tcomentario: \"\",\r\n\t\tuserName: \"\"\r\n    });\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        async function fetchMovieDetails() {\r\n          try {\r\n            const response = await axios.get(\r\n              `https://ironrest.herokuapp.com/apiDICKvigarista/${params.id}`\r\n            );\r\n            setForm({ ...response.data });\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n        }\r\n    \r\n        fetchMovieDetails();\r\n    }, []);\r\n\r\n    function handleChange(event) {\r\n        setForm({ ...form, [event.target.name]: event.target.value });\r\n    }\r\n    \r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n    \r\n        for (let key in form) {\r\n            if (!form[key]) {\r\n                window.alert(`Gentileza preencher o campo ${key} corretamente`);\r\n                return;\r\n            }\r\n        }\r\n    \r\n        delete form._id;\r\n        axios\r\n        .put(`https://ironrest.herokuapp.com/apiDICKvigarista/${params.id}`, form)\r\n        .then((result) => console.log(result))\r\n        .catch((error) => {\r\n        console.error(error);\r\n        });\r\n        navigate(`/${infoFilme}`)\r\n    }\r\n\r\n    return(\r\n    <div className=\"comentCreation\">\r\n      <div className=\"comentBox\">\r\n        <form  onSubmit={handleSubmit}>\r\n          <label htmlFor=\"userName\">Nome de Usuário:</label>\r\n          <input\r\n            id=\"UserName\"\r\n            name=\"userName\"\r\n            value={form.userName}\r\n            onChange={handleChange}\r\n          />\r\n          <label htmlFor=\"comment\">Novo comentário:</label>\r\n          <textarea \r\n          \r\n            id=\"comment\"\r\n            name=\"comentario\"\r\n            value={form.comentario}\r\n            onChange={handleChange}\r\n          />\r\n          <button type=\"submit\">Cadastrar comentário editado</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}